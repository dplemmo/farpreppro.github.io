<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>FAR Prep Pro – Practice Exam Lifecycle 1</title>
<style>
  :root { --border:#e5e7eb; --text:#111827; --muted:#6b7280; --primary:#111; --ok:#10b981; --err:#ef4444; }
  * { box-sizing:border-box; }
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; line-height: 1.5; color: var(--text); }
  .container { max-width: 950px; margin: 0 auto; }
  h1 { margin: 0 0 8px; }
  .meta { color: var(--muted); margin-bottom: 20px; }
  .card { border:1px solid var(--border); border-radius:14px; padding:16px 18px; margin:18px 0; box-shadow:0 1px 2px rgba(0,0,0,.03); }
  .qtext { font-weight:600; margin-bottom:10px; }
  .choice { margin:8px 0; }
  .actions { display:flex; gap:12px; margin-top:16px; }
  button { border:1px solid var(--primary); background:var(--primary); color:#fff; padding:10px 14px; border-radius:10px; cursor:pointer; }
  button.ghost { background:#fff; color:var(--primary); }
  .result { padding:12px; border-radius:12px; margin-top:12px; font-weight:600; }
  .correct { background:#ecfdf5; border:1px solid var(--ok); }
  .incorrect { background:#fef2f2; border:1px solid var(--err); }
  .summary { font-size:1.1rem; font-weight:700; margin:18px 0; }
  details { margin-top:8px; }
  .muted { color:var(--muted); font-size:.95rem; }
</style>
</head>
<body>
<div class="container">
  <h1>FAR Prep Pro – Practice Exam Lifecycle 1</h1>
  <div class="meta">Answer all questions, then click Submit to see your score. Choices are shuffled each time.</div>
  <div id="quiz"></"></div>
  <div class="actions">
    <button id="submitBtn">Submit</button>
    <button class="ghost" id="retryBtn" style="display:none;">Retry</button>
  </div>
  <div id="summary" class="summary"></div>
</div>

<script>
// Embedded quiz data
window.__QUIZ_DATA__ = [{"question": "Which FAR Part discusses the need to address end-of-life considerations when defining agency needs for procurement?", "choices": ["FAR Part 7 – Acquisition Planning", "FAR Part 11 – Describing Agency Needs", "FAR Part 23 – Environmental and Energy Efficiency", "FAR Part 39 – Acquisition of Information Technology"], "correctIndex": 1, "sectionTag": "11", "sourceSnippet": "FAR 11.002(b) instructs agencies to consider not only the initial cost but also the maintenance, environmental impact, and disposal of products."}, {"question": "FAR 23.103 encourages agencies to procure products that minimize which of the following?", "choices": ["Initial purchase price", "Environmental impact over the product life cycle", "Cybersecurity vulnerabilities", "Product warranty limitations"], "correctIndex": 1, "sectionTag": "23", "sourceSnippet": "FAR 23.103 promotes sustainable acquisition and mandates minimizing environmental and energy impacts across the life cycle of the product."}, {"question": "When planning for a major IT system, what does FAR Part 39 require agencies to consider?", "choices": ["Availability of subcontractors", "Total number of suppliers", "Life cycle upgrades and end-of-life support", "Exclusivity of brand-name products"], "correctIndex": 2, "sectionTag": "39", "sourceSnippet": "FAR 39.101 requires agencies to address supportability, upgrade cycles, and disposal in acquisition of IT products and services."}, {"question": "What does FAR 7.105(b)(16) require in written acquisition plans?", "choices": ["A list of pre-approved vendors", "A breakdown of labor costs", "Consideration of logistics and life-cycle support", "Evaluation of incumbent contractor performance"], "correctIndex": 2, "sectionTag": "7", "sourceSnippet": "FAR 7.105(b)(16) mandates that acquisition plans describe the approach for providing life-cycle logistics support."}, {"question": "Which FAR part mandates that agencies plan to acquire products that are energy-efficient and safe across their usage life?", "choices": ["FAR Part 11", "FAR Part 23", "FAR Part 34", "FAR Part 39"], "correctIndex": 1, "sectionTag": "23", "sourceSnippet": "FAR 23.203 emphasizes the procurement of energy-efficient, environmentally preferable, and safe products throughout their life cycle."}, {"question": "Which FAR Part most directly addresses management of cost, schedule, and performance for systems over their life cycle?", "choices": ["FAR Part 7", "FAR Part 23", "FAR Part 34", "FAR Part 39"], "correctIndex": 2, "sectionTag": "34", "sourceSnippet": "FAR Part 34 establishes policies for the acquisition of major systems, requiring integrated planning for life-cycle cost and performance."}, {"question": "FAR 11.002 states that performance requirements should reflect what?", "choices": ["Contractor feedback from previous procurements", "How the product or service will be used and supported over its life cycle", "Total vendor costs including G&A", "Simplified pricing structures for acquisition"], "correctIndex": 1, "sectionTag": "11", "sourceSnippet": "FAR 11.002(a)(1) directs agencies to state performance requirements that reflect the intended use and life-cycle considerations."}, {"question": "Which FAR Part would you reference for guidance on planning disposal of obsolete IT systems?", "choices": ["FAR Part 7", "FAR Part 23", "FAR Part 34", "FAR Part 39"], "correctIndex": 3, "sectionTag": "39", "sourceSnippet": "FAR Part 39 includes guidance on life-cycle management for IT, including decommissioning and disposal planning."}, {"question": "What is a key sustainability requirement under FAR 23.002?", "choices": ["Awarding to small businesses first", "Avoiding purchase of non-domestic items", "Purchasing biobased, recycled-content, and energy-efficient products", "Restricting contractor travel costs"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR 23.002 outlines the policy for sustainable acquisition, including preference for products that are recycled, biobased, or energy-efficient."}, {"question": "Under FAR Part 7, what lifecycle phase is emphasized when discussing acquisition of support equipment?", "choices": ["Development testing", "Production and delivery", "Operations and maintenance", "Demonstration and prototype stage"], "correctIndex": 2, "sectionTag": "7", "sourceSnippet": "FAR 7.101 includes planning for support equipment that addresses operations and maintenance as part of lifecycle management."}, {"question": "Under FAR Part 11, what is a key benefit of specifying performance-based requirements?", "choices": ["It reduces the need for competition.", "It focuses on cost only, ignoring long-term maintenance.", "It encourages vendors to propose innovative lifecycle solutions.", "It mandates acquisition from small businesses only."], "correctIndex": 2, "sectionTag": "11.002", "sourceSnippet": "Performance-based acquisition strategies allow for innovative solutions that address the full lifecycle of the product or service."}, {"question": "What does FAR 23.002 emphasize when acquiring products and services?", "choices": ["Minimizing initial acquisition cost.", "Maximizing short-term efficiency.", "Reducing lifecycle environmental impacts.", "Focusing exclusively on domestic suppliers."], "correctIndex": 2, "sectionTag": "23.002", "sourceSnippet": "Agencies shall advance sustainable acquisition by minimizing environmental impacts throughout the product's lifecycle."}, {"question": "Which FAR Part discusses 'total cost of ownership' as a key acquisition planning consideration?", "choices": ["FAR Part 7", "FAR Part 14", "FAR Part 15", "FAR Part 13"], "correctIndex": 0, "sectionTag": "7.105", "sourceSnippet": "FAR 7.105 requires plans to consider total cost of ownership, including maintenance and disposal."}, {"question": "Which FAR part focuses specifically on major system acquisition planning across the full system lifecycle?", "choices": ["FAR Part 12", "FAR Part 34", "FAR Part 25", "FAR Part 17"], "correctIndex": 1, "sectionTag": "34.004", "sourceSnippet": "FAR Part 34 promotes lifecycle integration in cost, schedule, and performance for major systems."}, {"question": "What is a lifecycle concern addressed under FAR Part 39 for IT acquisitions?", "choices": ["IT system disposal and end-of-life planning", "Color schemes for user interfaces", "Telecommunications billing", "Developer wages"], "correctIndex": 0, "sectionTag": "39.101", "sourceSnippet": "FAR 39.101 includes provisions for planning IT acquisition across its entire lifecycle, including disposal."}, {"question": "What kind of support must be planned under FAR 7.105 for lifecycle cost considerations?", "choices": ["Temporary administrative staff", "Logistical support for system maintenance and repair", "Support to senior executive retreats", "Travel assistance for field contractors"], "correctIndex": 1, "sectionTag": "7.105(b)(4)", "sourceSnippet": "Lifecycle cost planning includes logistical support throughout a system's operational life."}, {"question": "Why does FAR Part 11 encourage commercial item descriptions that reflect lifecycle concerns?", "choices": ["To avoid using domestic suppliers", "To ensure rapid decommissioning", "To address long-term sustainability and maintenance", "To enforce fixed-price contracts"], "correctIndex": 2, "sectionTag": "11.002", "sourceSnippet": "Lifecycle-oriented specifications can improve overall sustainability and reduce support costs."}, {"question": "FAR 23.705 addresses acquisition of what type of products in the context of lifecycle environmental impact?", "choices": ["Products made of rare earth metals", "Biobased and environmentally preferable products", "Foreign-manufactured electronics", "Non-sustainable petroleum products"], "correctIndex": 1, "sectionTag": "23.705", "sourceSnippet": "Lifecycle analysis is used to promote the acquisition of biobased and environmentally preferable products."}, {"question": "Which of the following is a lifecycle-related performance risk discussed in FAR Part 34?", "choices": ["International embargoes", "Short-term budget shortfalls", "System degradation over time", "Recruitment delays"], "correctIndex": 2, "sectionTag": "34.005-2", "sourceSnippet": "Lifecycle risk analysis includes evaluating system degradation and long-term supportability."}, {"question": "FAR Part 39 directs agencies to avoid what in order to extend IT system lifecycles?", "choices": ["Commercially available software", "Security reviews", "Unnecessary customizations", "Lifecycle cost analysis"], "correctIndex": 2, "sectionTag": "39.101", "sourceSnippet": "Unnecessary customizations can increase cost and complexity, shortening system lifecycle efficiency."}, {"id": "6322245a-d4bb-4e5a-9982-1c60ad197a10", "question": "Which FAR part requires agencies to ensure energy efficiency in systems across their life cycle?", "choices": ["FAR Part 7 – Acquisition Planning", "FAR Part 11 – Describing Agency Needs", "FAR Part 23 – Environment, Energy and Water Efficiency", "FAR Part 39 – Acquisition of Information Technology"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR Part 23 encourages energy efficiency and environmentally sound practices throughout a product's life cycle."}, {"id": "5c5255cd-9e5a-46a2-9349-1deb02da02b7", "question": "What is a key principle emphasized in FAR Part 7 regarding total life-cycle cost?", "choices": ["Use of sole-source justifications", "Minimization of front-end costs only", "Consideration of logistics support and disposal", "Limitation to development phase costs"], "correctIndex": 2, "sectionTag": "7", "sourceSnippet": "FAR 7.101 defines acquisition planning to include support and disposal across the life cycle."}, {"id": "b0670a8f-32db-4900-85a3-8e7173b9c473", "question": "According to FAR Part 39, agencies must consider which of the following for IT system acquisition?", "choices": ["Trade secret licensing", "Disposal and upgrade path", "Customs compliance", "Foreign language support"], "correctIndex": 1, "sectionTag": "39", "sourceSnippet": "FAR 39.103 addresses the full IT system life cycle, including upgrades and secure end-of-life handling."}, {"id": "9691f5e8-e2f7-472a-8119-1c6d3cedb57d", "question": "Which FAR part guides agencies in minimizing the environmental footprint during all stages of a system's use?", "choices": ["FAR Part 6", "FAR Part 12", "FAR Part 23", "FAR Part 15"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR Part 23 promotes sustainability across acquisition phases, including use and disposal."}, {"id": "c406510f-2606-4acd-8e8d-7bf971247ee2", "question": "Which FAR part emphasizes integrating life cycle cost into system acquisition strategies for major systems?", "choices": ["FAR Part 14 – Sealed Bidding", "FAR Part 34 – Major System Acquisition", "FAR Part 25 – Foreign Acquisition", "FAR Part 5 – Publicizing Contract Actions"], "correctIndex": 1, "sectionTag": "34", "sourceSnippet": "FAR 34.004 encourages total life cycle cost consideration in the acquisition of major systems."}, {"id": "8c65d8d0-c88b-4e1a-9c41-de6a05fed155", "question": "In the context of FAR 11.002, how should agencies define requirements for long-term use items?", "choices": ["Using vague performance targets", "Focusing solely on price", "Based on past supplier relationships", "With consideration for maintenance and supportability"], "correctIndex": 3, "sectionTag": "11", "sourceSnippet": "FAR 11.002 requires requirements to account for supportability, maintainability, and durability."}, {"id": "8271ed4d-74e3-41fb-9638-61c293076346", "question": "Which of the following FAR parts ties environmental objectives directly to procurement decision-making?", "choices": ["FAR Part 10", "FAR Part 19", "FAR Part 23", "FAR Part 3"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR Part 23 integrates environmental goals into the acquisition lifecycle."}, {"id": "6a974725-80c5-454f-9470-fe0f23de5deb", "question": "FAR 7.105(b)(16) directs planners to address what aspect of systems logistics?", "choices": ["Licensing terms and conditions", "Post-deployment training", "System security testing", "Disposal and demilitarization"], "correctIndex": 3, "sectionTag": "7", "sourceSnippet": "FAR 7.105(b)(16) covers planning for demilitarization, disposal, and life-cycle support."}, {"id": "68947613-9fcb-4d2f-a9da-2979ba124a50", "question": "Which concept is a key objective of life-cycle logistics planning in major system acquisitions?", "choices": ["High procurement volume", "Minimum testing requirements", "Operational sustainability", "Vendor consolidation"], "correctIndex": 2, "sectionTag": "34", "sourceSnippet": "Sustainability is emphasized in FAR Part 34’s life-cycle management of major systems."}, {"id": "90b9cdd6-72fb-4585-8b11-cbb518c1634b", "question": "FAR Part 11 requires agency needs to reflect what essential principle?", "choices": ["Preference for overseas contractors", "Selection based on lowest cost only", "Life-cycle performance consideration", "Omission of energy impact assessments"], "correctIndex": 2, "sectionTag": "11", "sourceSnippet": "FAR Part 11.002 encourages needs definitions based on performance and total life-cycle factors."}, {"id": "e508d414-d315-4bf9-adcb-4f5271524a6a", "question": "When considering total life-cycle costs in acquisition planning, which of the following would NOT typically be included?", "choices": ["Initial procurement cost", "Maintenance and repair costs", "Employee salaries for program staff", "End-of-life disposal costs"], "correctIndex": 2, "sectionTag": "7", "sourceSnippet": "FAR 7.101 defines life-cycle cost as all costs from the initial planning through disposal."}, {"id": "ed3ba956-efbe-4a1d-b15a-c2e8b400e6dc", "question": "FAR Part 11 emphasizes what key principle for defining agency needs related to sustainability?", "choices": ["Lowest bidder contract awards", "Long-term system operability", "Short-term use prioritization", "Market share optimization"], "correctIndex": 1, "sectionTag": "11", "sourceSnippet": "FAR 11.002 highlights life-cycle cost and long-term support in describing agency needs."}, {"id": "779a1b6f-1f7f-4f31-bc16-f4af51bd5039", "question": "Which part of the FAR requires that major system acquisitions be managed with an integrated life-cycle approach?", "choices": ["FAR Part 11", "FAR Part 34", "FAR Part 6", "FAR Part 25"], "correctIndex": 1, "sectionTag": "34", "sourceSnippet": "FAR 34.004 mandates an integrated approach to managing major systems through their life cycle."}, {"id": "8298943f-f20e-41d4-a3d1-82df2b81a421", "question": "Which of the following most closely reflects the purpose of sustainability goals in FAR Part 23?", "choices": ["Shortening procurement timelines", "Optimizing contract deliverables", "Reducing environmental impact across product life cycles", "Improving contractor billing efficiency"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR 23.002 emphasizes minimizing environmental impact and improving efficiency across a product’s entire life cycle."}, {"id": "a7100bea-b149-471b-8bd4-53196586abc3", "question": "FAR Part 39 discusses lifecycle planning in the context of which of the following areas?", "choices": ["Contract modifications", "Software licensing timelines", "Information technology acquisitions", "Packaging and labeling of items"], "correctIndex": 2, "sectionTag": "39", "sourceSnippet": "FAR 39.103 directs agencies to consider IT system lifecycle including security, upgrades, and disposal."}, {"id": "9c86f197-c45d-44c2-b484-7098eda7b115", "question": "What is the significance of 'supportability' in FAR life cycle planning?", "choices": ["It ensures systems can be delivered quickly.", "It promotes ease of maintenance and sustained operations.", "It defines whether a contract can be terminated early.", "It outlines funding thresholds for urgent buys."], "correctIndex": 1, "sectionTag": "7", "sourceSnippet": "FAR 7.105 includes supportability as part of life-cycle logistics and planning."}, {"id": "8aaace78-3b9b-4602-ac03-fae04a8adef5", "question": "Why does FAR Part 23 encourage energy-efficient procurement?", "choices": ["To reduce labor costs during contract execution", "To maximize contractor profitability", "To promote cost savings and environmental protection across the lifecycle", "To favor U.S. manufacturers"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR 23.202 supports acquisition of energy-efficient products to reduce lifecycle energy costs."}, {"id": "c53d7f86-eabc-4657-9e29-622858349371", "question": "Which FAR part would guide an agency to consider the cost of training users when acquiring a major system?", "choices": ["FAR Part 6", "FAR Part 34", "FAR Part 14", "FAR Part 4"], "correctIndex": 1, "sectionTag": "34", "sourceSnippet": "FAR 34.005 includes training and operational readiness as lifecycle cost considerations."}, {"id": "0ee6e1a5-dfb8-4545-b236-0aa938d158b5", "question": "End-of-life disposal is most likely to be emphasized in which of the following FAR parts?", "choices": ["Part 7 – Acquisition Planning", "Part 19 – Small Business", "Part 5 – Publicizing Contract Actions", "Part 15 – Contracting by Negotiation"], "correctIndex": 0, "sectionTag": "7", "sourceSnippet": "FAR 7.105 requires planning for disposal of systems after use as part of total lifecycle considerations."}, {"id": "09a56703-295b-4890-aa2b-8671f0999963", "question": "FAR guidance on performance-based acquisition requires defining what aspect of lifecycle in early planning?", "choices": ["Number of suppliers", "System availability and reliability over time", "Software compatibility", "Service area zip codes"], "correctIndex": 1, "sectionTag": "11", "sourceSnippet": "FAR 11.002 encourages agencies to define lifecycle performance needs, not just inputs."}, {"question": "Why is it important to include life cycle cost analysis in IT acquisitions under FAR Part 39?", "choices": ["To ensure compliance with international trade laws", "To encourage short-term procurement savings", "To plan for upgrades, support, and eventual system replacement", "To eliminate competition in IT contracting"], "correctIndex": 2, "sectionTag": "39", "sourceSnippet": "FAR 39.101(c) encourages agencies to consider total life cycle cost, including support and replacement planning."}, {"question": "What does FAR 7.105 recommend regarding planning for maintenance during acquisition planning?", "choices": ["Only consider maintenance if the product is military-grade", "Include maintenance and support in the acquisition strategy", "Exclude maintenance from early planning stages", "Defer maintenance planning to the contract closeout phase"], "correctIndex": 1, "sectionTag": "7", "sourceSnippet": "FAR 7.105(b)(3) recommends addressing support, including maintenance, in acquisition strategies."}, {"question": "Under FAR Part 11, what must agencies consider when specifying product requirements?", "choices": ["The vendor’s country of origin", "The product’s color and aesthetic features", "The performance, supportability, and life cycle impacts of the product", "The past performance scores of the vendor"], "correctIndex": 2, "sectionTag": "11", "sourceSnippet": "FAR 11.002(a)(1) requires consideration of the product’s life cycle including performance and support."}, {"question": "How does FAR Part 23 influence purchasing decisions?", "choices": ["It mandates all purchases be made through GSA", "It restricts purchases to domestic vendors", "It requires consideration of environmental impact and sustainability", "It prohibits bulk purchasing strategies"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR 23.103 encourages the acquisition of environmentally sustainable products and services."}, {"question": "What is a key objective of the integrated program management approach in FAR Part 34?", "choices": ["To accelerate procurement approval timelines", "To integrate life cycle considerations across all stages", "To eliminate contract audits", "To bypass milestone reviews"], "correctIndex": 1, "sectionTag": "34", "sourceSnippet": "FAR 34.004 requires life cycle integration across cost, schedule, and performance planning."}, {"question": "FAR Part 7 directs that agencies must consider which factor when determining acquisition strategy?", "choices": ["The price of raw materials", "The manufacturer's tax rate", "Life-cycle cost and sustainment", "The product's resale value"], "correctIndex": 2, "sectionTag": "7", "sourceSnippet": "FAR 7.101 defines acquisition planning to include life-cycle cost considerations."}, {"question": "Which FAR Part emphasizes designing for performance and supportability?", "choices": ["FAR Part 5", "FAR Part 23", "FAR Part 11", "FAR Part 10"], "correctIndex": 2, "sectionTag": "11", "sourceSnippet": "FAR 11.002(a)(3) directs agencies to describe requirements using performance and supportability criteria."}, {"question": "FAR Part 39 requires what aspect of planning for IT systems?", "choices": ["Vendor nationality disclosure", "User interface design testing", "Upgrades and eventual end-of-life disposal", "Patent filing during acquisition"], "correctIndex": 2, "sectionTag": "39", "sourceSnippet": "FAR 39.101 emphasizes planning for upgrades and eventual replacement during IT acquisitions."}, {"question": "FAR 34.005 requires which of the following in managing major system acquisitions?", "choices": ["Minimizing contractor profits", "Maximizing speed over cost", "Using a system engineering approach considering the entire life cycle", "Limiting contracts to less than 3 years"], "correctIndex": 2, "sectionTag": "34", "sourceSnippet": "FAR 34.005-1(a) requires an integrated systems engineering approach considering the system life cycle."}, {"question": "Why is end-of-life disposal a key consideration under FAR Part 23?", "choices": ["To streamline asset depreciation accounting", "To maximize labor union contracts", "To reduce environmental harm from obsolete assets", "To ensure equipment reuse"], "correctIndex": 2, "sectionTag": "23", "sourceSnippet": "FAR 23.704 outlines environmental considerations including end-of-life disposal impacts."}];

(function(){
  const data = Array.isArray(window.__QUIZ_DATA__) ? window.__QUIZ_DATA__ : [];
  const quizEl = document.getElementById('quiz');
  const submitBtn = document.getElementById('submitBtn');
  const retryBtn = document.getElementById('retryBtn');
  const summaryEl = document.getElementById('summary');

  function shuffle(arr){
    return arr.map(v => ({v, r: Math.random()})).sort((a,b)=>a.r-b.r).map(o=>o.v);
  }

  function render(){
    quizEl.innerHTML = '';
    summaryEl.textContent = '';

    data.forEach((q, idx) => {
      const card = document.createElement('div');
      card.className = 'card';

      const qtext = document.createElement('div');
      qtext.className = 'qtext';
      qtext.textContent = `Q${idx+1}. ${q.question}`;
      card.appendChild(qtext);

      const choices = (q.choices || []).map((text, i) => ({ text, origIndex: i }));
      const shuffled = shuffle(choices);

      shuffled.forEach((c, j) => {
        const id = `q${idx}_c${j}`;
        const wrap = document.createElement('div');
        wrap.className = 'choice';
        wrap.innerHTML = `
          <label for="${id}">
            <input type="radio" name="q${idx}" id="${id}" value="${c.origIndex}" />
            ${c.text}
          </label>
        `;
        card.appendChild(wrap);
      });

      if (q.sectionTag || q.sourceSnippet) {
        const det = document.createElement('details');
        const sum = document.createElement('summary');
        sum.textContent = 'Show FAR reference';
        const ref = document.createElement('div');
        ref.className = 'muted';
        ref.innerHTML = `
          ${q.sectionTag ? `<div><strong>FAR ${q.sectionTag}</strong></div>` : ''}
          ${q.sourceSnippet ? `<div>${q.sourceSnippet}</div>` : ''}
        `;
        det.appendChild(sum);
        det.appendChild(ref);
        card.appendChild(det);
      }

      quizEl.appendChild(card);
    });

    submitBtn.style.display = 'inline-block';
    retryBtn.style.display = 'none';
  }

  submitBtn.addEventListener('click', () => {
    const inputs = quizEl.querySelectorAll('input[type=radio]');
    const byQ = new Map();
    inputs.forEach(inp => { if (inp.checked) byQ.set(inp.name, Number(inp.value)); });

    let correct = 0;
    data.forEach((q, idx) => {
      const chosen = byQ.get('q' + idx);
      const isCorrect = chosen === q.correctIndex;
      const card = quizEl.children[idx];
      const res = document.createElement('div');
      res.className = 'result ' + (isCorrect ? 'correct' : 'incorrect');
      res.textContent = isCorrect ? 'Correct' : 'Incorrect';
      card.appendChild(res);
      if (isCorrect) correct++;
    });

    summaryEl.textContent = `Score: ${correct} / ${data.length}`;
    submitBtn.style.display = 'none';
    retryBtn.style.display = 'inline-block';
  });

  retryBtn.addEventListener('click', render);

  render();
})();
</script>
</body>
</html>